export default [
  `
    CREATE TABLE IF NOT EXISTS TB_VALIDITY (
      ID INTEGER PRIMARY KEY AUTOINCREMENT,
      IS_EVER_DAYS INTEGER NOT NULL,
      IS_EVER_MONTH INTEGER NOT NULL DEFAULT 0,
      START_DATE INTEGER,
      END_DATE INTEGER,
      REGISTRO_ID INTEGER
    );
  `,
  "ALTER TABLE TB_REGISTRO ADD COLUMN SALE_DATE INTEGER DEFAULT NULL;",
  "ALTER TABLE TB_REGISTRO ADD COLUMN UNIQUE_ID INTEGER DEFAULT NULL;",
  "ALTER TABLE TB_REGISTRO ADD COLUMN VALIDITY_ID INTEGER DEFAULT NULL;",
  `
    INSERT INTO TB_VALIDITY (REGISTRO_ID, IS_EVER_DAYS, START_DATE, END_DATE)
    SELECT ID,IS_EVER_DAYS,START_DATE,END_DATE FROM TB_REGISTRO
    WHERE IS_RECURRENT = 1;
  `,
  `
    UPDATE TB_REGISTRO SET VALIDITY_ID = (
      SELECT v.ID FROM TB_VALIDITY v WHERE v.REGISTRO_ID = TB_REGISTRO.ID
    );
  `,
  `
      UPDATE TB_REGISTRO
      SET VALUE = -ABS(VALUE)
      WHERE IS_DEPESA = 1;
  `,

  `
    UPDATE TB_REGISTRO
    SET SALE_DATE = CREATE_AT
    WHERE SALE_DATE IS NULL;
  `,
]
